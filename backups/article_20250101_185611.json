{
  "title": "Walden’s Blog",
  "content": "notion åæ­¥å° jekyll é¡µé¢çå\n³é®é®é¢\n\né®é¢ä¸»è¦åºå¨ä¸¤ä¸ªå°æ¹ï¼\n\nè¿å°±æ¯ä¸ºä»ä¹ææ°çä»£ç è½å·¥ä½çåå ãæä»¬ï¼\n\nJekyllç½ç«äºå¨è®¾è®¡çé®ç¹\n\né¡µé¢è®¿é®æ¬¡æ°ç»è®¡\n\nQ: ç¨jekyllé¨ç½²å°GitHubçç½ç«ï¼è½å é¡µé¢çè®¿é®æ¬¡æ°ä¹ï¼\n\nA: æ¯çï¼å¯ä»¥éè¿ä»¥ä¸æ¹æ³å®ç°é¡µé¢è®¿é®æ¬¡æ°ç»è®¡ï¼\n\néæç¹èµåè½\n\nQ: é£æå¯ä»¥éæä¸ä¸ªç¹èµåè½å°ç½ç«çæç« è¯¦æ\nä¹ï¼ä¸éè¦è®°å½äººçä¿¡æ¯ï¼æ¯ä¸ªäººç¹ä¸ä¸ï¼å°±ä¸ä¸ªèµï¼\n\nA: å¯ä»¥éæç¹èµåè½ï¼å\n·ä½æ­¥éª¤å¦ä¸ï¼\n\néæè¯è®ºåè½\n\nQ: é£ä¹è¯è®ºå¢ï¼å¯ä»¥å ä¹ï¼\n\nA: å¯ä»¥æ·»å è¯è®ºåè½ï¼ä»¥ä¸æ¯å ç§éææ¹æ³ï¼\n\nè¯è®ºå®¡æ ¸è¦æ±\n\nQ: ä½æ¯è¯è®ºçè¯ï¼å¨å½å\næ¯ä¸æ¯æ¶åå°å®¡æ ¸ï¼ä¸è½ç´æ¥å¨æ²¡æç³è¯·çæ\nåµä¸ä½¿ç¨ï¼\n\nA: æ¯çï¼æ ¹æ®ä¸­å½æ³å¾æ³è§ï¼æä¾åä½¿ç¨è·å¸è¯è®ºæå¡éè¦éµå®ç¸å\n³è§å®ï¼\n\nJekyllç½ç«SEOä¼å\n\nQ: æçjekyllç½ç«å¦ä½ä¼åseoï¼\n\nA: ä¼åJekyllç½ç«çSEOå¯ä»¥éåä»¥ä¸æªæ½ï¼\n\nå¦ä½ä½¿ç¨ Notion æ¥åæ­¥ç®¡çä½ çåå®¢åå¾®ä¿¡å\n¬ä¼å·\n\nNotion + Jekyll + å\n¬ä¼å·çè¯¦ç»å®ç°\n\nä½¿ç¨ Notion åä½ï¼å¯ä»¥äº«åå®ä¼ç§çæçååä½åè½ï¼ç¶åéè¿ API å°æç« åæ­¥å° Jekyll åå¾®ä¿¡å\n¬ä¼å·ï¼å®ç°ä¸ç«å¼åä½åå¤å¹³å°åå¸ãä»¥ä¸æ¯è¯¦ç»æ­¥éª¤ï¼\n\n1. åå¤å·¥ä½\n\n1.1 é\nç½® Notion API\n\n1.2 åå¤ Jekyll ç¯å¢\n\n1.3 å¾®ä¿¡å\n¬ä¼å·å¼åæ¥å£\n\n2. å®ç°æµç¨\n\n2.1 ä» Notion è·åæç«\n\néè¿ Notion APIï¼æåä½ å¨ Notion æ°æ®åºä¸­çæç« å\nå®¹ï¼è½¬åä¸º Markdown æä»¶ã\n\nç¤ºä¾ä»£ç ï¼Pythonï¼ï¼\n\nimport requests\nimport json\n\nNOTION_API_TOKEN = \"your_notion_integration_token\"\nDATABASE_ID = \"your_notion_database_id\"\n\nheaders = {\n\"Authorization\": f\"Bearer {NOTION_API_TOKEN}\",\n\"Content-Type\": \"application/json\",\n\"Notion-Version\": \"2022-06-28\",\n}\n\nè·å Notion æ°æ®åºä¸­çé¡µé¢\ndef fetch_notion_pages():\nurl = f\"https://api.notion.com/v1/databases/{DATABASE_ID}/query\"\nresponse = requests.post(url, headers=headers)\npages = response.json().get(\"results\", [])\nreturn pages\n\nè·ååä¸ªé¡µé¢çè¯¦ç»å\nå®¹\ndef fetch_page_content(page_id):\nurl = f\"https://api.notion.com/v1/blocks/{page_id}/children\"\nresponse = requests.get(url, headers=headers)\ncontent = response.json()\nreturn content\n\nç¤ºä¾è°ç¨\npages = fetch_notion_pages()\nfor page in pages:\nprint(page[\"properties\"][\"Name\"][\"title\"][0][\"text\"][\"content\"])\n\n2.2 åæ­¥å° Jekyll\n\nå°æåå°çæç« å\nå®¹è½¬åä¸º Markdown æä»¶ï¼å¹¶å­å¨å° Jekyll ç _posts æä»¶å¤¹ä¸­ã\n\nç¤ºä¾ä»£ç ï¼ç»§ç»­ Pythonï¼ï¼\n\nimport os\nfrom datetime import datetime\n\nå°æç« å\nå®¹è½¬ä¸º Markdown æä»¶\ndef save_to_jekyll(title, content):\ndate = datetime.now().strftime(\"%Y-%m-%d\")\nfilename = f\"./_posts/{date}-{title.replace(' ', '-').lower()}.md\"\nwith open(filename, \"w\", encoding=\"utf-8\") as file:\nfile.write(f\"---\n\")\nfile.write(f\"title: {title}\n\")\nfile.write(f\"date: {date}\n\")\nfile.write(f\"layout: post\n\")\nfile.write(f\"---\n\n\")\nfile.write(content)\nprint(f\"Saved to Jekyll: {filename}\")\n\nç¤ºä¾è°ç¨\nfor page in pages:\ntitle = page[\"properties\"][\"Name\"][\"title\"][0][\"text\"][\"content\"]\ncontent = \"æç« å\nå®¹ï¼æ ¹æ® fetch_page_content æåå\n·ä½æ®µè½ï¼\"\nsave_to_jekyll(title, content)\n\nè¿è¡åï¼ä½ çæç« ä¼èªå¨å­å¨å° Jekyll ç _posts æä»¶å¤¹ä¸­ãä½¿ç¨ jekyll serve é¢è§ææï¼æè\næ¨éå° GitHub Pagesã\n\n2.3 åæ­¥å°å¾®ä¿¡å\n¬ä¼å·\n\nå°æç« å\nå®¹éè¿å¾®ä¿¡å\n¬ä¼å· API åå¸å°å\n¬ä¼å·å¹³å°ã\n\nç¤ºä¾ä»£ç ï¼å¾®ä¿¡å\n¬ä¼å·ï¼ï¼\n\nè·åå\n¬ä¼å· Access Token\ndef get_access_token(app_id, app_secret):\nurl = f\"https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid={app_id}&secret={app_secret}\"\nresponse = requests.get(url).json()\nreturn response.get(\"access_token\")\n\nåå¸æç«\ndef publish_to_wechat(access_token, title, content):\nurl = f\"https://api.weixin.qq.com/cgi-bin/draft/add?access_token={access_token}\"\ndata = {\n\"articles\": [\n{\n\"title\": title,\n\"content\": content,\n\"author\": \"ä½è\n\",\n\"digest\": \"æè¦å\nå®¹\",\n\"show_cover_pic\": 1,\n}\n]\n}\nresponse = requests.post(url, json=data).json()\nprint(response)\n\nç¤ºä¾è°ç¨\nAPP_ID = \"your_wechat_app_id\"\nAPP_SECRET = \"your_wechat_app_secret\"\naccess_token = get_access_token(APP_ID, APP_SECRET)\n\nåå¸å\nå®¹\nfor page in pages:\ntitle = page[\"properties\"][\"Name\"][\"title\"][0][\"text\"][\"content\"]\ncontent = \"æç« å\nå®¹ï¼æ ¹æ® fetch_page_content æåå\n·ä½æ®µè½ï¼\"\npublish_to_wechat(access_token, title, content)\n\n3. èªå¨åæ´å\n\nä½ å¯ä»¥å°ä»¥ä¸æµç¨æ´åä¸ºä¸ä¸ªèªå¨åèæ¬ï¼å®ç°å\n¨æµç¨èªå¨è¿è¡ï¼\n\nå®æ¶èªå¨å\n\nå¦ä½å° notion å\nå®¹åæ­¥å° GitHub ç jekyll åå®¢ä¸­\n\nä¸ï¼ç³",
  "timestamp": "20250101_185611"
}