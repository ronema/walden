2025-01-01 18:55:33,364 - INFO - 开始执行 Notion 到微信公众号的同步
2025-01-01 18:55:33,364 - INFO - 正在获取微信公众号 Access Token...
2025-01-01 18:55:33,373 - DEBUG - Starting new HTTPS connection (1): api.weixin.qq.com:443
2025-01-01 18:55:33,623 - DEBUG - https://api.weixin.qq.com:443 "GET /cgi-bin/token?grant_type=client_credential&appid=wx4cfd82f07644c374&secret=a93b007c2d6d756026b23771ed897def HTTP/1.1" 200 173
2025-01-01 18:55:33,624 - INFO - 成功获取微信公众号 Access Token
2025-01-01 18:55:33,624 - INFO - 正在从 Notion 获取页面内容...
2025-01-01 18:55:33,671 - DEBUG - connect_tcp.started host='127.0.0.1' port=7897 local_address=None timeout=60.0 socket_options=None
2025-01-01 18:55:33,672 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10645a100>
2025-01-01 18:55:33,672 - DEBUG - send_request_headers.started request=<Request [b'CONNECT']>
2025-01-01 18:55:33,672 - DEBUG - send_request_headers.complete
2025-01-01 18:55:33,672 - DEBUG - send_request_body.started request=<Request [b'CONNECT']>
2025-01-01 18:55:33,672 - DEBUG - send_request_body.complete
2025-01-01 18:55:33,672 - DEBUG - receive_response_headers.started request=<Request [b'CONNECT']>
2025-01-01 18:55:33,672 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'Connection established', [])
2025-01-01 18:55:33,672 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x106449270> server_hostname='api.notion.com' timeout=60.0
2025-01-01 18:55:34,352 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10645a130>
2025-01-01 18:55:34,353 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-01-01 18:55:34,353 - DEBUG - send_request_headers.complete
2025-01-01 18:55:34,353 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-01-01 18:55:34,353 - DEBUG - send_request_body.complete
2025-01-01 18:55:34,353 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-01-01 18:55:34,905 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 01 Jan 2025 10:55:34 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'8fb1fa50b8ebef83-PDX'), (b'CF-Cache-Status', b'DYNAMIC'), (b'ETag', b'W/"3f6-qBmfCTNjl76vTnCV6S7HALY+9dE"'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-security-policy', b"default-src 'none'"), (b'referrer-policy', b'strict-origin-when-cross-origin'), (b'x-content-type-options', b'nosniff'), (b'x-dns-prefetch-control', b'off'), (b'x-download-options', b'noopen'), (b'x-frame-options', b'SAMEORIGIN'), (b'x-notion-request-id', b'252a703f-d892-4072-a0d3-2fd19ff6a7ee'), (b'x-permitted-cross-domain-policies', b'none'), (b'x-xss-protection', b'0'), (b'Set-Cookie', b'__cf_bm=N1IGZYyRo2_8LVQyNXk_DYSEh4tz63Uf4EaQaNdM4go-1735728934-1.0.1.1-IyLbYaWuYCWcijzrhUzxqRbhTVqsBMb3MlFDY4WGrvlYM2UELM6.FqhE3UNx6wRcWPPdFr8OK76K7L.3u2HRew; path=/; expires=Wed, 01-Jan-25 11:25:34 GMT; domain=.notion.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=B9I6X1dnyE6FdZWU2KJ0_sKDU1iv5T02hv3d88gxp.Y-1735728934771-0.0.1.1-604800000; path=/; domain=.notion.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-01-01 18:55:34,906 - INFO - HTTP Request: GET https://api.notion.com/v1/pages/16e96ee0-ac35-8078-9c9a-c743d0f3e841 "HTTP/1.1 200 OK"
2025-01-01 18:55:34,906 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-01-01 18:55:34,906 - DEBUG - receive_response_body.complete
2025-01-01 18:55:34,906 - DEBUG - response_closed.started
2025-01-01 18:55:34,906 - DEBUG - response_closed.complete
2025-01-01 18:55:34,907 - INFO - 获取到文章标题: Walden’s Blog
2025-01-01 18:55:34,907 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-01-01 18:55:34,907 - DEBUG - send_request_headers.complete
2025-01-01 18:55:34,907 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-01-01 18:55:34,908 - DEBUG - send_request_body.complete
2025-01-01 18:55:34,908 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-01-01 18:55:35,521 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 01 Jan 2025 10:55:35 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Ray', b'8fb1fa544d1bef83-PDX'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Content-Encoding', b'gzip'), (b'ETag', b'W/"ad9-JAx+3kaeY1RBH7C6hWO3xFhLVs4"'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Vary', b'Accept-Encoding'), (b'content-security-policy', b"default-src 'none'"), (b'referrer-policy', b'strict-origin-when-cross-origin'), (b'x-content-type-options', b'nosniff'), (b'x-dns-prefetch-control', b'off'), (b'x-download-options', b'noopen'), (b'x-frame-options', b'SAMEORIGIN'), (b'x-notion-request-id', b'31de0c1a-e589-4133-a748-e0e92d5f4986'), (b'x-permitted-cross-domain-policies', b'none'), (b'x-xss-protection', b'0'), (b'Server', b'cloudflare'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-01-01 18:55:35,522 - INFO - HTTP Request: GET https://api.notion.com/v1/blocks/16e96ee0-ac35-8078-9c9a-c743d0f3e841/children "HTTP/1.1 200 OK"
2025-01-01 18:55:35,522 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-01-01 18:55:35,522 - DEBUG - receive_response_body.complete
2025-01-01 18:55:35,522 - DEBUG - response_closed.started
2025-01-01 18:55:35,522 - DEBUG - response_closed.complete
2025-01-01 18:55:35,522 - INFO - 获取到 5 个内容块
2025-01-01 18:55:35,523 - DEBUG - 内容块详情: [{'object': 'block', 'id': '16e96ee0-ac35-8000-ba5d-d5537f904f1f', 'parent': {'type': 'page_id', 'page_id': '16e96ee0-ac35-8078-9c9a-c743d0f3e841'}, 'created_time': '2025-01-01T07:50:00.000Z', 'last_edited_time': '2025-01-01T08:44:00.000Z', 'created_by': {'object': 'user', 'id': 'fe0241f2-6fe6-4251-a6ee-cad8b61f5ad9'}, 'last_edited_by': {'object': 'user', 'id': 'fe0241f2-6fe6-4251-a6ee-cad8b61f5ad9'}, 'has_children': True, 'archived': False, 'in_trash': False, 'type': 'child_page', 'child_page': {'title': 'notion 同步到 jekyll 页面的关键问题'}}, {'object': 'block', 'id': '16c96ee0-ac35-80ce-bfb6-f4845062d338', 'parent': {'type': 'page_id', 'page_id': '16e96ee0-ac35-8078-9c9a-c743d0f3e841'}, 'created_time': '2024-12-30T03:34:00.000Z', 'last_edited_time': '2025-01-01T07:50:00.000Z', 'created_by': {'object': 'user', 'id': 'fe0241f2-6fe6-4251-a6ee-cad8b61f5ad9'}, 'last_edited_by': {'object': 'user', 'id': 'fe0241f2-6fe6-4251-a6ee-cad8b61f5ad9'}, 'has_children': True, 'archived': False, 'in_trash': False, 'type': 'child_page', 'child_page': {'title': 'Jekyll网站互动设计疑问点'}}, {'object': 'block', 'id': '16b96ee0-ac35-800d-b4d0-c6468c7a7ece', 'parent': {'type': 'page_id', 'page_id': '16e96ee0-ac35-8078-9c9a-c743d0f3e841'}, 'created_time': '2024-12-29T14:55:00.000Z', 'last_edited_time': '2025-01-01T08:54:00.000Z', 'created_by': {'object': 'user', 'id': 'fe0241f2-6fe6-4251-a6ee-cad8b61f5ad9'}, 'last_edited_by': {'object': 'user', 'id': 'fe0241f2-6fe6-4251-a6ee-cad8b61f5ad9'}, 'has_children': True, 'archived': False, 'in_trash': False, 'type': 'child_page', 'child_page': {'title': '如何使用 Notion 来同步管理你的博客和微信公众号'}}, {'object': 'block', 'id': '16e96ee0-ac35-8084-9247-f78135fc1ace', 'parent': {'type': 'page_id', 'page_id': '16e96ee0-ac35-8078-9c9a-c743d0f3e841'}, 'created_time': '2025-01-01T09:05:00.000Z', 'last_edited_time': '2025-01-01T09:06:00.000Z', 'created_by': {'object': 'user', 'id': 'fe0241f2-6fe6-4251-a6ee-cad8b61f5ad9'}, 'last_edited_by': {'object': 'user', 'id': 'fe0241f2-6fe6-4251-a6ee-cad8b61f5ad9'}, 'has_children': True, 'archived': False, 'in_trash': False, 'type': 'child_page', 'child_page': {'title': '如何将 notion 内容同步到 GitHub 的 jekyll 博客中'}}, {'object': 'block', 'id': '16e96ee0-ac35-806b-8e30-d6edc366b074', 'parent': {'type': 'page_id', 'page_id': '16e96ee0-ac35-8078-9c9a-c743d0f3e841'}, 'created_time': '2025-01-01T10:14:00.000Z', 'last_edited_time': '2025-01-01T10:14:00.000Z', 'created_by': {'object': 'user', 'id': 'fe0241f2-6fe6-4251-a6ee-cad8b61f5ad9'}, 'last_edited_by': {'object': 'user', 'id': 'fe0241f2-6fe6-4251-a6ee-cad8b61f5ad9'}, 'has_children': False, 'archived': False, 'in_trash': False, 'type': 'paragraph', 'paragraph': {'rich_text': [], 'color': 'default'}}]
2025-01-01 18:55:35,523 - DEBUG - 处理块类型: child_page
2025-01-01 18:55:35,523 - DEBUG - 块内容: {'object': 'block', 'id': '16e96ee0-ac35-8000-ba5d-d5537f904f1f', 'parent': {'type': 'page_id', 'page_id': '16e96ee0-ac35-8078-9c9a-c743d0f3e841'}, 'created_time': '2025-01-01T07:50:00.000Z', 'last_edited_time': '2025-01-01T08:44:00.000Z', 'created_by': {'object': 'user', 'id': 'fe0241f2-6fe6-4251-a6ee-cad8b61f5ad9'}, 'last_edited_by': {'object': 'user', 'id': 'fe0241f2-6fe6-4251-a6ee-cad8b61f5ad9'}, 'has_children': True, 'archived': False, 'in_trash': False, 'type': 'child_page', 'child_page': {'title': 'notion 同步到 jekyll 页面的关键问题'}}
2025-01-01 18:55:35,523 - DEBUG - 处理块类型: child_page
2025-01-01 18:55:35,523 - DEBUG - 块内容: {'object': 'block', 'id': '16c96ee0-ac35-80ce-bfb6-f4845062d338', 'parent': {'type': 'page_id', 'page_id': '16e96ee0-ac35-8078-9c9a-c743d0f3e841'}, 'created_time': '2024-12-30T03:34:00.000Z', 'last_edited_time': '2025-01-01T07:50:00.000Z', 'created_by': {'object': 'user', 'id': 'fe0241f2-6fe6-4251-a6ee-cad8b61f5ad9'}, 'last_edited_by': {'object': 'user', 'id': 'fe0241f2-6fe6-4251-a6ee-cad8b61f5ad9'}, 'has_children': True, 'archived': False, 'in_trash': False, 'type': 'child_page', 'child_page': {'title': 'Jekyll网站互动设计疑问点'}}
2025-01-01 18:55:35,523 - DEBUG - 处理块类型: child_page
2025-01-01 18:55:35,523 - DEBUG - 块内容: {'object': 'block', 'id': '16b96ee0-ac35-800d-b4d0-c6468c7a7ece', 'parent': {'type': 'page_id', 'page_id': '16e96ee0-ac35-8078-9c9a-c743d0f3e841'}, 'created_time': '2024-12-29T14:55:00.000Z', 'last_edited_time': '2025-01-01T08:54:00.000Z', 'created_by': {'object': 'user', 'id': 'fe0241f2-6fe6-4251-a6ee-cad8b61f5ad9'}, 'last_edited_by': {'object': 'user', 'id': 'fe0241f2-6fe6-4251-a6ee-cad8b61f5ad9'}, 'has_children': True, 'archived': False, 'in_trash': False, 'type': 'child_page', 'child_page': {'title': '如何使用 Notion 来同步管理你的博客和微信公众号'}}
2025-01-01 18:55:35,523 - DEBUG - 处理块类型: child_page
2025-01-01 18:55:35,523 - DEBUG - 块内容: {'object': 'block', 'id': '16e96ee0-ac35-8084-9247-f78135fc1ace', 'parent': {'type': 'page_id', 'page_id': '16e96ee0-ac35-8078-9c9a-c743d0f3e841'}, 'created_time': '2025-01-01T09:05:00.000Z', 'last_edited_time': '2025-01-01T09:06:00.000Z', 'created_by': {'object': 'user', 'id': 'fe0241f2-6fe6-4251-a6ee-cad8b61f5ad9'}, 'last_edited_by': {'object': 'user', 'id': 'fe0241f2-6fe6-4251-a6ee-cad8b61f5ad9'}, 'has_children': True, 'archived': False, 'in_trash': False, 'type': 'child_page', 'child_page': {'title': '如何将 notion 内容同步到 GitHub 的 jekyll 博客中'}}
2025-01-01 18:55:35,523 - DEBUG - 处理块类型: paragraph
2025-01-01 18:55:35,523 - DEBUG - 块内容: {'object': 'block', 'id': '16e96ee0-ac35-806b-8e30-d6edc366b074', 'parent': {'type': 'page_id', 'page_id': '16e96ee0-ac35-8078-9c9a-c743d0f3e841'}, 'created_time': '2025-01-01T10:14:00.000Z', 'last_edited_time': '2025-01-01T10:14:00.000Z', 'created_by': {'object': 'user', 'id': 'fe0241f2-6fe6-4251-a6ee-cad8b61f5ad9'}, 'last_edited_by': {'object': 'user', 'id': 'fe0241f2-6fe6-4251-a6ee-cad8b61f5ad9'}, 'has_children': False, 'archived': False, 'in_trash': False, 'type': 'paragraph', 'paragraph': {'rich_text': [], 'color': 'default'}}
2025-01-01 18:55:35,523 - INFO - 生成的文章内容长度: 0 字符
2025-01-01 18:55:35,523 - DEBUG - 生成的文章内容: 
2025-01-01 18:55:35,523 - INFO - 正在发布文章到微信公众号...
2025-01-01 18:55:35,524 - INFO - 内容已备份到: backups/article_20250101_185535.json
2025-01-01 18:55:35,524 - INFO - 正在上传默认封面图片...
2025-01-01 18:55:35,538 - DEBUG - Starting new HTTPS connection (1): api.weixin.qq.com:443
2025-01-01 18:55:36,176 - DEBUG - https://api.weixin.qq.com:443 "POST /cgi-bin/material/add_material?access_token=87_o-qP9HZCmhfoKG5LoxLhGXYkJbRcBKGud411xS7oiajW23vmgIyw4IGG3URNzQ8qUFJTNmHPvcu2nRaT7R82W8BbzoxPAEeTcNkhlP22lFYDSrvhYwhM9Q3BARQHWKaACAMBP&type=thumb HTTP/1.1" 200 242
2025-01-01 18:55:36,176 - INFO - 封面图片上传成功
2025-01-01 18:55:36,182 - INFO - 准备发布文章：Walden’s Blog
2025-01-01 18:55:36,182 - INFO - 文章内容（前200字符）：
    <div style="font-size: 14px; line-height: 1.8; color: #333;">
        <p></p>

    </div>
    
    <hr />
    <p style="color: #999; font-size: 12px;">
        本文由 Notion 自动同步至微信公众号<br>
        发
2025-01-01 18:55:36,186 - DEBUG - Starting new HTTPS connection (1): api.weixin.qq.com:443
2025-01-01 18:55:38,155 - DEBUG - https://api.weixin.qq.com:443 "POST /cgi-bin/draft/add?access_token=87_o-qP9HZCmhfoKG5LoxLhGXYkJbRcBKGud411xS7oiajW23vmgIyw4IGG3URNzQ8qUFJTNmHPvcu2nRaT7R82W8BbzoxPAEeTcNkhlP22lFYDSrvhYwhM9Q3BARQHWKaACAMBP HTTP/1.1" 200 89
2025-01-01 18:55:38,156 - INFO - 文章成功发布到微信公众号草稿箱
2025-01-01 18:55:38,157 - INFO - Notion 到微信公众号的同步完成
